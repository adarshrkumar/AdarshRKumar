---
import '../styles/pages/[about, contact].scss'

import Layout from '../layouts/Layout.astro'

// Load age first
import age from '../lib/getAge'

// Helper function to load and process about content
async function loadAboutContent(): Promise<string> {
    const aboutFile = await import('../../content/aboutContent.md')
    const rawContent = aboutFile.compiledContent()
    
    // Replace age placeholder with actual age
    return rawContent.replaceAll('{ age }', age.toString())
}

// Load about content
const aboutContent = await loadAboutContent()

---
<Layout title="About">
    <div class="about" set:html={aboutContent} />
</Layout>